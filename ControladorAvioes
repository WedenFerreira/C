#include <stdio.h>
#include <stdlib.h>
#include <string.h>
#define MAX 2

typedef struct{
    int id;
    char nome[50], origem[50], destino[50];
}aviao;

typedef struct{
    int total, comeco, final;
    aviao fila[MAX];
}tpfila;

void Iniciar (tpfila *f){
    f->total = 0;
    f->comeco = 0;
    f->final = 0;
}

int VerCheio (tpfila *f){
    return (f->total == MAX);
}

int VerVazio (tpfila *f){
    return (f->total == 0);
}

void adc (int *i){
    (*i)++;
    if (*i == MAX){
        *i = 0;
    }
}

void Colocarfim (tpfila *f, aviao x){
    if(VerCheio(f)==0){
        f->fila[f->total]= x;
        adc(&f->final);
        f->total++;
    }else{
        printf("Fila cheia!\n\n");
    }
}

void ColocarIni (tpfila *f){
    aviao x;
    if (VerVazio(f)==0){
        x = (f->fila[f->comeco]);
        printf("ID: %d\n", x.id);
        printf("Nome: ");puts(x.nome);
        printf("Destino: ");puts(x.destino);
        printf("Origem: ");puts(x.origem);printf("\n");
        system("pause");
        system("cls");
        adc (&f->comeco);
        f->total--;        
    }else{
        printf("Fila vazia!\n\n");
        system("pause");
        system("cls");
    }
}


void AdicionarAviao(tpfila *posi, aviao avi){
     printf("Digite o ID: ");
     scanf ("%d", &avi.id);
     getchar();
     printf("Digite o Nome: ");
     gets(avi.nome);
     printf("Digite a Origem: ");
     gets(avi.origem);
     printf("Digite o Destino: ");
     gets(avi.destino);
     Colocarfim(posi, avi);
     printf("\n");
     system ("cls");
     
}

int main (){

    int i, menu;
    tpfila ordem;
    aviao av;

    Iniciar(&ordem);
    
    for ( ; ; ){
     printf("***  MENU  *** \n"
           "(1)Adicionar Novo Aviao: \n"
           "(2)Autorizar Decolagem: \n"
           "(3)Inf. Primeiro Aviao:  \n"
           "(4)Mostrar Todos os Avioes: \n"
           "\nSelecionado:  ");
     scanf("%d", &menu);
     printf("\n");
     system("cls");
     switch (menu){
     case 1:
       AdicionarAviao(&ordem, av);
     break;
     case 2:
      ColocarIni(&ordem);
     break;
     default:
            
     break;
    }
}

system("pause");
return 0;
}
